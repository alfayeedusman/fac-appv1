# ============================================================================
# ENVIRONMENT VARIABLES CONFIGURATION
# ============================================================================
# Copy this file to .env for local development
# For production deployment (Netlify/Vercel), add these to environment settings
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================
# Get from Neon Console: https://console.neon.tech
# IMPORTANT: Use the connection string with "-pooler" for better performance
NEON_DATABASE_URL=postgresql://neondb_owner:npg_Czoq2wiUXZl1@ep-polished-scene-aecwu10u-pooler.c-2.us-east-2.aws.neon.tech/neondb?sslmode=require
DATABASE_URL=postgresql://neondb_owner:npg_Czoq2wiUXZl1@ep-polished-scene-aecwu10u-pooler.c-2.us-east-2.aws.neon.tech/neondb?sslmode=require

# ============================================================================
# FIREBASE CONFIGURATION
# ============================================================================
# Get from Firebase Console: https://console.firebase.google.com
# Go to: Project Settings → General → Your apps → Web app
VITE_FIREBASE_API_KEY=AIzaSyAaH10Jpspj7t2N4QeVXmfwJYubb0LwkkM
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012345
VITE_FIREBASE_APP_ID=1:123456789012:web:abc123def456ghi789jkl
VITE_FIREBASE_MEASUREMENT_ID=G-ABC123DEF45
VITE_FIREBASE_FCM_KEY=AAAAXXXXXXXXX:APA91bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ============================================================================
# MAPBOX CONFIGURATION
# ============================================================================
# Get from Mapbox: https://account.mapbox.com/tokens/
VITE_MAPBOX_TOKEN=pk.eyJ1IjoieW91cnVzZXJuYW1lIiwiYSI6ImNsXXXXXXX...

# ============================================================================
# PUSHER CONFIGURATION (Real-time Updates)
# ============================================================================
# Get from Pusher Dashboard: https://dashboard.pusher.com
VITE_PUSHER_KEY=abcdef1234567890
VITE_PUSHER_CLUSTER=ap1
PUSHER_KEY=abcdef1234567890
PUSHER_SECRET=your_pusher_secret_here
PUSHER_APP_ID=1234567
PUSHER_CLUSTER=ap1

# ============================================================================
# XENDIT CONFIGURATION (Payment Processing)
# ============================================================================
# Get from Xendit Dashboard: https://dashboard.xendit.co → API Keys
XENDIT_SECRET_KEY=xnd_production_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
XENDIT_PUBLIC_KEY=xnd_public_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
XENDIT_WEBHOOK_TOKEN=your_webhook_token_here
VITE_XENDIT_PUBLIC_KEY=xnd_public_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
# Frontend API Configuration
VITE_API_BASE_URL=/api

# Node Environment
NODE_ENV=production

# Frontend URL (for CORS configuration)
FRONTEND_URL=https://facapptest.netlify.app

# Optional: If API is on different domain
# VITE_API_BASE_URL=https://api.yourdomain.com/api

# ============================================================================
# BUILD CONFIGURATION (for Netlify/Vercel)
# ============================================================================
NODE_VERSION=20
NPM_CONFIG_PRODUCTION=false
NODE_OPTIONS=--max_old_space_size=4096

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# Security Scanning (for Netlify)
SECRETS_SCAN_SMART_DETECTION_OMIT_VALUES=AIzaSyAaH10Jpspj7t2N4QeVXmfwJYubb0LwkkM

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================

# 1. NEON DATABASE (REQUIRED)
#    - Sign up: https://neon.tech
#    - Create a project
#    - Copy the connection string from dashboard
#    - IMPORTANT: Use the "-pooler" connection string for serverless
#    - Format: postgresql://username:password@hostname-pooler/database?sslmode=require

# 2. FIREBASE (for authentication & push notifications)
#    - Sign up: https://firebase.google.com
#    - Create a new project
#    - Go to Project Settings → General tab
#    - Scroll to "Your apps" section
#    - Click on web app or create one
#    - Copy all the config values

# 3. MAPBOX (for maps & location services)
#    - Sign up: https://mapbox.com
#    - Go to Tokens page
#    - Create a new token or use default
#    - Copy the token

# 4. PUSHER (for real-time updates)
#    - Sign up: https://pusher.com
#    - Create an app
#    - Go to App Settings
#    - Copy Key, Secret, App ID, and Cluster

# 5. XENDIT (for payment processing)
#    - Sign up: https://xendit.co
#    - Go to API Keys page
#    - Copy Secret Key and Public Key
#    - Set up webhook pointing to your deployment URL

# ============================================================================
# DEPLOYMENT INSTRUCTIONS
# ============================================================================

# FOR NETLIFY:
# 1. Go to https://app.netlify.com
# 2. Select your site → Site Settings → Environment variables
# 3. Add all variables from this file
# 4. Build command: npm ci --legacy-peer-deps --include=dev && npm run build && npm run build:server
# 5. Publish directory: dist/spa
# 6. Functions directory: netlify/functions

# FOR VERCEL:
# 1. Go to https://vercel.com/dashboard
# 2. Select your project → Settings → Environment Variables
# 3. Add all variables from this file
# 4. Select environments: Production, Preview, Development

# ============================================================================
# TESTING AFTER DEPLOYMENT
# ============================================================================
# 1. Health check: GET https://your-site.com/api/health
# 2. Database test: GET https://your-site.com/api/neon/test
# 3. Login test: POST https://your-site.com/api/neon/login
# 4. Check logs in your deployment platform dashboard

# ============================================================================
# TROUBLESHOOTING
# ============================================================================
# - If login fails: Check NEON_DATABASE_URL is set correctly
# - If connection timeouts: Ensure using "-pooler" in database URL
# - If CORS errors: Check FRONTEND_URL matches your deployment URL
# - For detailed diagnostics: See DATABASE_CONNECTION_DIAGNOSIS.md

# ============================================================================
