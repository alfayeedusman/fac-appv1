# ============================================================================
# NETLIFY DEPLOYMENT ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local for local testing
# For Netlify, add these to: Site Settings → Build & Deploy → Environment
# ============================================================================

# Database Configuration
# Get from https://console.neon.tech
NEON_DATABASE_URL=postgresql://username:password@ep-random-region.neon.tech/dbname
DATABASE_URL=postgresql://username:password@ep-random-region.neon.tech/dbname

# Firebase Configuration
# Get from https://console.firebase.google.com → Project Settings
VITE_FIREBASE_API_KEY=AIzaSyAaH10Jpspj7t2N4QeVXmfwJYubb0LwkkM
VITE_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789012345
VITE_FIREBASE_APP_ID=1:123456789012:web:abc123def456ghi789jkl
VITE_FIREBASE_MEASUREMENT_ID=G-ABC123DEF45
VITE_FIREBASE_FCM_KEY=AAAAXXXXXXXXX:APA91bXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Mapbox Configuration
# Get from https://account.mapbox.com/tokens/
VITE_MAPBOX_TOKEN=pk.eyJ1IjoieW91cnVzZXJuYW1lIiwiYSI6ImNsXXXXXXX...

# Pusher Configuration (Real-time Updates)
# Get from https://dashboard.pusher.com → Your Apps
VITE_PUSHER_KEY=abcdef1234567890
VITE_PUSHER_CLUSTER=ap1
PUSHER_KEY=abcdef1234567890
PUSHER_SECRET=your_pusher_secret_here
PUSHER_APP_ID=1234567
PUSHER_CLUSTER=ap1

# Xendit Configuration (Payment Processing)
# Get from https://dashboard.xendit.co → API Keys
XENDIT_SECRET_KEY=xnd_production_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
XENDIT_PUBLIC_KEY=xnd_public_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
XENDIT_WEBHOOK_TOKEN=your_webhook_token_here
VITE_XENDIT_PUBLIC_KEY=xnd_public_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Build Environment (for Netlify)
NODE_VERSION=20
NPM_CONFIG_PRODUCTION=false
NODE_OPTIONS=--max_old_space_size=4096
NODE_ENV=production

# Security Scanning (for Netlify)
SECRETS_SCAN_SMART_DETECTION_OMIT_VALUES=AIzaSyAaH10Jpspj7t2N4QeVXmfwJYubb0LwkkM

# ============================================================================
# INSTRUCTIONS FOR EACH SERVICE
# ============================================================================

# 1. NEON DATABASE
#    - Sign up: https://neon.tech
#    - Create a project
#    - Copy the connection string (includes password)
#    - Format: postgresql://username:password@hostname/database

# 2. FIREBASE
#    - Sign up: https://firebase.google.com
#    - Create a new project
#    - Go to Project Settings → General tab
#    - Scroll to "Your apps" section
#    - Click on web app or create one
#    - Copy all the config values

# 3. MAPBOX
#    - Sign up: https://mapbox.com
#    - Go to Tokens page
#    - Create a new token (default token or custom)
#    - Copy the token

# 4. PUSHER
#    - Sign up: https://pusher.com
#    - Create an app
#    - Go to App Settings
#    - Copy Key, Secret, App ID, and Cluster

# 5. XENDIT
#    - Sign up: https://xendit.co
#    - Go to API Keys page
#    - Copy Secret Key and Public Key
#    - Set up webhook in Xendit dashboard pointing to your Netlify site

# ============================================================================
# NETLIFY DEPLOYMENT STEPS
# ============================================================================

# 1. Login to Netlify
#    - Go to https://app.netlify.com
#    - Sign up/login with GitHub

# 2. Connect your repository
#    - Click "Add new site" → "Import an existing project"
#    - Select your GitHub repository
#    - Authorize Netlify

# 3. Configure build settings
#    - Build command: npm ci --legacy-peer-deps --include=dev --prefer-offline --no-audit && npm run build && npm run build:server
#    - Publish directory: dist/spa
#    - Functions directory: netlify/functions

# 4. Set environment variables
#    - Go to Site Settings → Build & Deploy → Environment
#    - Add all the variables from this file

# 5. Deploy
#    - Click "Deploy site"
#    - Wait for build to complete
#    - Visit your site at https://your-site.netlify.app

# ============================================================================
# TESTING
# ============================================================================

# After deployment, test these:
# 1. Check API is working: GET /api/health
# 2. Test database: GET /api/neon/test
# 3. Try login: POST /api/neon/auth/login
# 4. Check functions logs: Dashboard → Functions → Logs

# ============================================================================
